<p>stepper-form works!</p>
<mat-horizontal-stepper>
  <mat-step label="pageOne">
    Page One
    <form [formGroup]="myForm" (ngSubmit)="onSubmit()">
      <div *ngFor="let control of formConfig?.pageOne.controls">
        <label *ngIf="control.type!=='button'">{{control.label}}</label>
        <div *ngIf="control.type === 'text'">
          <input
            [type]="control.type"
            [formControlName]="control.name"
            [value]="control.value"
            appFieldValidation
                  [fieldInput]="statusPass(control.name)"
                [errorMsg]="errorMsgPass(control)"
                [name]="control.name"
          />
        </div>
        <div>
          <p [ngStyle]="{'color':'red','margin':'auto'}" [id]="control.name"></p>
        </div>

        <br />
        <!-- <div *ngIf="control.type === 'button'">
          <button type="submit">{{control.label}}</button>
        </div> -->
      </div>
      <!-- <button mat-button matStepperPrevious>Back</button> -->
          <button mat-button matStepperNext>Next</button>
    </form>
  </mat-step>
  <mat-step label="pageTwo">
    Page One
    <form [formGroup]="myForm" (ngSubmit)="onSubmit()">
      <div *ngFor="let control of formConfig?.pageTwo.controls">
        <label *ngIf="control.type!=='button'">{{control.label}}</label>
        <div *ngIf="control.type === 'text'">
          <input
            [type]="control.type"
            [formControlName]="control.name"
            [value]="control.value"
            appFieldValidation
                  [fieldInput]="statusPass(control.name)"
                [errorMsg]="errorMsgPass(control)"
                [name]="control.name"
          />
          <div>
            <p [ngStyle]="{'color':'red','margin':'auto'}" [id]="control.name"></p>
          </div>
        </div>

        <br />
        <div *ngIf="control.type === 'button'">
          <div *ngIf="control.label==='Previous';else elseBlock">
          <button mat-button matStepperPrevious>{{control.label}}</button>
          </div>
          <ng-template #elseBlock>
          <button mat-button matStepperNext>{{control.label}}</button>
          </ng-template>  
        </div>
      </div>
    </form>
  </mat-step>
  <mat-step label="pageThree">
    Page One
    <form [formGroup]="myForm" (ngSubmit)="onSubmit()">
      <div *ngFor="let control of formConfig?.pageThree.controls">
        <label *ngIf="control.type!=='button'">{{control.label}}</label>
        <div *ngIf="control.type === 'text'">
          <input
            [type]="control.type"
            [formControlName]="control.name"
            [value]="control.value"
            appFieldValidation
                  [fieldInput]="statusPass(control.name)"
                [errorMsg]="errorMsgPass(control)"
                [name]="control.name"
          />
          <div>
            <p [ngStyle]="{'color':'red','margin':'auto'}" [id]="control.name"></p>
          </div>
        </div>

        <br />
        <!-- <div *ngIf="control.type === 'button'">
          <button type="submit" [disabled]="myForm.invalid">{{control.label}}</button>
        </div> -->
        <div *ngIf="control.type === 'button'">
          <div [ngSwitch]="control.label">
            <div *ngSwitchCase="'Previous'">
          <button mat-button matStepperPrevious>{{control.label}}</button>
            </div>
            <div *ngSwitchCase="'Next'">
            <button mat-button matStepperNext>{{control.label}}</button>
            </div>
            <div *ngSwitchDefault>
              <button type="submit" [disabled]="myForm.invalid">{{control.label}}</button>
            </div>
          </div>
        </div>
      </div>
    </form>
  </mat-step>
</mat-horizontal-stepper>
